var Se=Object.defineProperty,ke=Object.defineProperties;var De=Object.getOwnPropertyDescriptors;var re=Object.getOwnPropertySymbols;var Ae=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var J=(s,t,n)=>t in s?Se(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n,T=(s,t)=>{for(var n in t||(t={}))Ae.call(t,n)&&J(s,n,t[n]);if(re)for(var n of re(t))Ee.call(t,n)&&J(s,n,t[n]);return s},k=(s,t)=>ke(s,De(t));var w=(s,t,n)=>(J(s,typeof t!="symbol"?t+"":t,n),n);import{s as We,j as e,O as Q,d as Re,a as Be,b as $e,c as Le,u as j,L as O,e as ie,A as Oe,C as Y,f as r,T as Ie,g as p,B as h,h as I,I as oe,i as Fe,k as Me,D as Ue,l as He,r as i,m as Z,o as D,n as ee,F as E,p as le,M as ce,q as G,t as K,v as z,S as de,w as F,x as V,y as g,z as pe,E as he,G as _e,H as Pe,J as Ne,R as je,K as B,N as Ge,P as Ke}from"./vendor.171e8775.js";const ze=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerpolicy&&(u.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?u.credentials="include":a.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}};ze();const Ve=We("main")({flexGrow:1,margin:10}),Xe=()=>e(Ve,{children:e(Q,{})}),X="/pulsar/";var me=[{label:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",path:`${X}`,icon:e(Re,{color:"primary"})},{label:"\u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",path:`${X}tasks`,icon:e(Be,{color:"primary"})},{label:"\u0417\u0430\u0434\u0430\u0447\u0438",path:`${X}works`,icon:e($e,{color:"primary"})},{label:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",path:`${X}settings`,icon:e(Le,{color:"primary"})}];const xe="Pulsar",qe=({toggleOpen:s})=>{const t=j(),n=me.map(o=>e(O,{button:!0,onClick:()=>t(o.path,{replace:!0}),children:e(ie,{primary:o.label})},o.label));return e(Oe,{position:"fixed",children:e(Y,{maxWidth:"xl",children:r(Ie,{disableGutters:!0,children:[e(p,{variant:"h6",noWrap:!0,component:"h1",sx:M.logoSm,children:xe}),e(h,{sx:M.menu,children:e(I,{component:"nav",sx:M.nav,children:n})}),e(h,{sx:M.icon,children:e(oe,{size:"large","aria-label":"open menu","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:s,sx:M.iconButton,children:e(Fe,{})})}),e(p,{variant:"h6",noWrap:!0,component:"h1",sx:M.logoXs,children:xe})]})})})},M={logoSm:{mr:2,display:{xs:"none",sm:"flex"}},logoXs:{flexGrow:1,justifyContent:"flex-end",display:{xs:"flex",sm:"none"}},menu:{flexGrow:1,justifyContent:"flex-end",display:{xs:"none",sm:"flex"}},nav:{display:"flex",flexDirection:"row"},iconButton:{padding:"20px"},icon:{display:{xs:"flex",sm:"none"}}},Je=({open:s,toggleOpen:t})=>{const n=j(),o=u=>{n(u,{replace:!0}),t()},a=me.map(u=>r(O,{button:!0,onClick:()=>o(u.path),children:[e(Me,{children:u.icon}),e(ie,{primary:u.label})]},u.label));return r(Ue,{sx:fe.drawer,open:s,onClose:t,children:[r(h,{sx:{display:{xs:"flex",sm:"none"}},children:[e(p,{children:"Pulsar"}),e(oe,{size:"large","aria-label":"open menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:t,sx:fe.closeButton,children:e(He,{})})]}),e(I,{component:"nav",children:a})]})},fe={drawer:{width:300,"& .MuiDrawer-paper":{width:300,boxSizing:"border-box",top:"auto",padding:"10px 10px"}},closeButton:{color:"text.secondary"}},Qe=s=>{const[t,n]=i.exports.useState(!!s);return[t,()=>{n(()=>!t)}]},Ye=({children:s})=>{const[t,n]=Qe(!1);return r(Y,{maxWidth:"100vw",disableGutters:!0,sx:ve.container,children:[e(qe,{toggleOpen:n}),r(Y,{sx:ve.content,disableGutters:!0,children:[e(Je,{open:t,toggleOpen:n}),s]})]})},ve={container:{display:"flex",flexDirection:"column",minHeight:"100vh"},content:{display:"flex",flexGrow:1,mt:8}},_={actionTypes:[{id:1,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430",value1:{label:"\u0430\u0437\u0438\u043C\u0443\u0442 (\u0433\u0440\u0430\u0434)",max:350,min:0,step:.1},value2:{label:"",max:0,min:0,step:1},value3:{label:"",max:0,min:0,step:1}},{id:2,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430",value1:{label:"\u043D\u0430\u043A\u043B\u043E\u043D (\u0433\u0440\u0430\u0434)",max:10,min:0,step:1},value2:{label:"",max:0,min:0,step:1},value3:{label:"",max:0,min:0,step:1}},{id:3,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435",value1:{label:"\u0432\u0440\u0435\u043C\u044F (\u0441\u0435\u043A)",max:1e4,min:0,step:1},value2:{label:"",max:0,min:0,step:1},value3:{label:"",max:0,min:0,step:1}},{id:4,name:"\u0440\u0430\u0437\u0440\u044F\u0434",value1:{label:"\u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E",max:1e3,min:1,step:1},value2:{label:"\u0432\u0440\u0435\u043C\u044F (\u0441\u0435\u043A)",max:1e4,min:0,step:.1},value3:{label:"\u0438\u043D\u0442\u0435\u0440\u0432\u0430\u043B (\u0441\u0435\u043A)",max:1e3,min:0,step:.1}}],workTypes:[{id:1,name:"\u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430"}],statusTypes:[{id:1,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},{id:2,name:"\u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u0435"},{id:3,name:"\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043E"},{id:4,name:"\u043F\u0440\u043E\u0441\u0440\u043E\u0447\u0435\u043D\u043E"}],WORK:{WORK_PROGRAMM:1},STATUS:{STATUS_WAIT:1,STATUS_RUN:2,STATUS_DONE:3,STATUS_EXPIRED:4}};class Ze{constructor(){w(this,"data",{actionTypes:_.actionTypes,workTypes:_.workTypes,statusTypes:_.statusTypes,WORK:_.WORK,STATUS:_.STATUS})}async fetch(){return this.data}}var et=new Ze;const tt=et;class nt{constructor(){w(this,"actionTypes",[]);w(this,"workTypes",[]);w(this,"statusTypes",[]);w(this,"WORK",{});w(this,"STATUS",{});Z(this),this.fetch()}fill(t){this.actionTypes=t.actionTypes,this.workTypes=t.workTypes,this.statusTypes=t.statusTypes,this.WORK=t.WORK,this.STATUS=t.STATUS}async fetch(){const t=await tt.fetch();this.fill(t)}}const C=new nt,ye=[{id:1,name:"\u041F\u0435\u0440\u0432\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430",description:"\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043F\u0435\u0440\u0432\u043E\u0439 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",actions:[{id:1,type:{id:1,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430"},value1:15.9,value2:0,value3:0},{id:2,type:{id:3,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},value1:1.3,value2:0,value3:0},{id:3,type:{id:4,name:"\u0440\u0430\u0437\u0440\u044F\u0434"},value1:1,value2:1.3,value3:2.5}]},{id:2,name:"\u0412\u0442\u043E\u0440\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430",description:"\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0432\u0442\u043E\u0440\u043E\u0439 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",actions:[{id:1,type:{id:1,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430"},value1:120.9,value2:0,value3:0},{id:2,type:{id:3,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},value1:200,value2:0,value3:0},{id:3,type:{id:4,name:"\u0440\u0430\u0437\u0440\u044F\u0434"},value1:3,value2:2.5,value3:5}]}];let Te=ye.length+1;class st{constructor(){w(this,"data",ye)}async fetch(){return this.data}async fetchById(t){return this.data.find(n=>n.id===+t)}async create(t){Te++;const n=T({id:Te},t);return this.data.push(n),n}async remove(t){return this.data=this.data.filter(n=>n.id!==t),{removed:1,error:""}}async update(t){const n=this.data.findIndex(o=>o.id===t.id);return this.data[n]=T({},t),t}}var ut=new st;const P=ut;class at{constructor(){w(this,"taskList",[]);Z(this)}fill(t){this.taskList=t}async remove(t){const n=await P.remove(t.id);if(n.removed===1){const o=this.taskList.filter(a=>a.id!==t.id);this.fill(o)}return n.removed}async create(t){const n=await P.create(t);this.fill([...this.taskList,n])}async update(t){await P.update(t);let n=this.taskList.findIndex(o=>o.id===t.id);this.taskList[n]=T({},t)}async fetch(){this.fill(await P.fetch())}async fetchById(t){return await P.fetchById(t)}}const W=new at,ge=[{id:1,type:{id:1,name:"\u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430"},status:{id:1,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},item:{id:2,name:"\u0412\u0442\u043E\u0440\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430",description:"\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0432\u0442\u043E\u0440\u043E\u0439 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",actions:[{id:1,type:{id:1,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430"},value1:120.9,value2:0,value3:0},{id:2,type:{id:3,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},value1:200,value2:0,value3:0},{id:3,type:{id:4,name:"\u0440\u0430\u0437\u0440\u044F\u0434"},value1:3,value2:2.5,value3:5}]},startTime:1645191e6,details:[]},{id:2,type:{id:1,name:"\u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430"},status:{id:1,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},item:{id:2,name:"\u0412\u0442\u043E\u0440\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430",description:"\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0432\u0442\u043E\u0440\u043E\u0439 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",actions:[{id:1,type:{id:1,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430"},value1:120.9,value2:0,value3:0},{id:2,type:{id:3,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},value1:200,value2:0,value3:0},{id:3,type:{id:4,name:"\u0440\u0430\u0437\u0440\u044F\u0434"},value1:3,value2:2.5,value3:5}]},startTime:16457166e5,details:[]}];let Ce=ge.length+1;class rt{constructor(){w(this,"works",ge)}async fetch(){return this.works}async create(t){Ce++;const n=T({id:Ce},t);return this.works.push(n),n}async remove(t){return this.works=this.works.filter(n=>n.id!==t),{removed:1,error:""}}}var it=new rt;const te=it;class ot{constructor(){w(this,"workList",[]);Z(this)}fill(t){this.workList=t}async fetch(){const t=await te.fetch();this.fill(t)}async create(t){const n=await te.create(t);this.fill([...this.workList,n])}async remove(t){const n=await te.remove(t.id);if(n.removed===1){const o=this.workList.filter(a=>a.id!==t.id);this.fill(o)}return n.removed}}const $=new ot,lt=()=>{i.exports.useEffect(()=>{$.fetch()},[]);const s=$.workList.filter(t=>t.type.id===C.STATUS.STATUS_WAIT).map(t=>r(O,{children:[t.item.name," ---\xA0",ee(new Date(t.startTime),"dd-MM-yyyy - HH:mm")]},t.id));return r(h,{sx:{borderWidth:"1px",borderStyle:"solid",borderColor:"black",borderRadius:"5px",minHeight:"98%",p:.5,m:.5},children:[e(p,{children:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E \u0437\u0430\u0434\u0430\u043D\u0438\u044F\u0445"}),e(p,{variant:"span",children:"\u0417\u0430\u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0435"}),e(I,{children:s})]})};var ct=D(lt);const dt=()=>e(h,{sx:{borderWidth:"1px",borderStyle:"solid",borderColor:"black",borderRadius:"5px",minHeight:"98%",p:.5,m:.5},children:e(p,{children:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E\u0431 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0435"})});var pt=D(dt);const ht=()=>e(E,{children:r(h,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%",display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[e(h,{sx:{padding:1,width:{xs:"100%",sm:"45%"},minHeight:"95%"},children:e(ct,{})}),e(h,{sx:{padding:1,width:{xs:"100%",sm:"45%"},minHeight:"95%"},children:e(pt,{})})]})}),mt=()=>e(E,{children:e(Q,{})}),xt=()=>e(E,{children:e(Q,{})}),ne=s=>{const{open:t,onCloseDialog:n,children:o}=s;return e(le,{open:t,onClose:n,sx:{"& .MuiPaper-root":{width:{xs:"98%",sm:"50%"}}},children:o})},ft=({task:s,onSubmit:t,onCancel:n})=>{const o=i.exports.useMemo(()=>C.workTypes.find(d=>d.id===C.WORK.WORK_PROGRAMM),[]),a=i.exports.useMemo(()=>C.statusTypes.find(d=>d.id===C.STATUS.STATUS_RUN),[]),u=i.exports.useMemo(()=>({type:o,status:a,item:s,startTime:null,details:[]}),[]),[l,c]=i.exports.useState(u),[x,f]=i.exports.useState(a),[v,S]=i.exports.useState(ee(new Date,"yyyy-MM-dd'T'HH:mm")),A=d=>{const R=pe(he(d.target.value));S(d.target.value),c(k(T({},l),{startTime:R}))},b=d=>{const R=d.target.value;let N=null;f(R),R.id===C.STATUS.STATUS_WAIT&&(N=pe(he(v))),c(k(T({},l),{status:R,startTime:N}))},m=i.exports.useMemo(()=>C.statusTypes.map(d=>(d.id===C.STATUS.STATUS_RUN||d.id===C.STATUS.STATUS_WAIT)&&e(ce,{value:d,children:d.name},d.id)),[]);return r(E,{children:[e(G,{children:e(p,{children:"\u0417\u0430\u0434\u0430\u043D\u0438\u0435"})}),e(K,{children:r(h,{sx:{display:"flex",flexDirection:"column"},children:[e(z,{fullWidth:!0,sx:vt.gutters,children:e(de,{autoFocus:!0,value:x,onChange:b,children:m})}),x.id===C.STATUS.STATUS_WAIT&&e(z,{children:e(F,{label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",type:"datetime-local",value:v,onChange:A,InputLabelProps:{shrink:!0}})})]})}),r(V,{children:[e(g,{onClick:n,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e(g,{onClick:()=>t(l),children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},vt={gutters:{my:1}};var yt=D(ft);const Tt=({task:s,onSelect:t,onRemove:n})=>{const[o,a]=i.exports.useState(!1),u=()=>{a(!0)},l=()=>{a(!1)},c=x=>{$.create(x),a(!1)};return r(E,{children:[r(O,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[r(h,{sx:{display:"flex",bgcolor:"#ffffff",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",cursor:"pointer",flexWrap:"wrap","&:hover":{bgcolor:"#f1f1f1",color:"text.secondary"}},onClick:()=>t(s.id),children:[e(p,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:s.name}),e(p,{variant:"p",component:"span",sx:{padding:1,fontSize:"caption.fontSize"},children:s.description})]}),r(h,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:[e(g,{variant:"outlined",size:"small",sx:{mr:{xs:0,sm:.5},mb:{xs:.5,sm:0}},onClick:u,children:"\u0437\u0430\u043F\u0443\u0441\u043A"}),e(g,{variant:"outlined",size:"small",onClick:()=>n(s),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})]})]}),e(ne,{open:o,onCloseDialog:l,children:e(yt,{onCancel:l,onSubmit:c,task:s})})]})};var gt=D(Tt);const se=({open:s,children:t,onOk:n,onCancel:o})=>e(h,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:r(le,{open:s,onClose:o,children:[e(G,{}),e(K,{children:t}),r(V,{children:[e(g,{onClick:o,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e(g,{onClick:n,children:"Ok"})]})]})}),Ct=s=>{const[t,n]=i.exports.useState(!1),[o,a]=i.exports.useState("");return[t,o,l=>{n(l),a(l?s:"")}]},bt=({open:s,onAddTask:t,onCloseDialog:n})=>{const[o,a,u]=Ct("\u0418\u043C\u044F \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u0443\u0441\u0442\u044B\u043C."),[l,c]=i.exports.useState(""),[x,f]=i.exports.useState(""),v=b=>{f(b.target.value)},S=b=>{const m=b.target.value;u(!m),c(b.target.value)},A=()=>{if(!l){u(!0);return}t({name:l,description:x})};return i.exports.useEffect(()=>{s&&(c(""),u(!1),f(""))},[s]),r(E,{children:[e(G,{children:e(p,{children:"\u041D\u043E\u0432\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430"})}),e(K,{children:r(h,{sx:{display:"flex",flexDirection:"column"},children:[e(F,{autoFocus:!0,error:o,label:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435",value:l,helperText:a,variant:"filled",onChange:S,sx:{mb:1}}),e(F,{label:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",value:x,variant:"filled",multiline:!0,maxRows:4,onChange:v})]})}),r(V,{children:[e(g,{onClick:n,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e(g,{onClick:A,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]})]})},wt="/pulsar/",St=()=>{const s=j(),[t,n]=i.exports.useState(!1),[o,a]=i.exports.useState(!1),[u,l]=i.exports.useState(null),c=i.exports.useCallback(d=>{s(`${wt}tasks/${d}`)},[]);i.exports.useEffect(()=>W.fetch(),[]);const x=i.exports.useCallback(()=>{n(!1)},[]),f=i.exports.useCallback(()=>{n(!0)},[]),v=d=>{l(d),a(!0)},S=()=>{u&&W.remove(u).then(()=>{l(null)}),a(!1)},A=()=>{l(null),a(!1)},b=i.exports.useCallback(d=>{W.create(k(T({},d),{actions:[]})),x()},[]),m=i.exports.useMemo(()=>W.taskList.map(d=>e(gt,{task:d,onSelect:c,onRemove:v},d.id)),[W.taskList]);return r(h,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[r(h,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:[e(p,{variant:"h5",children:"\u0421\u043F\u0438\u0441\u043E\u043A \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C"}),e(g,{variant:"contained",color:"primary",onClick:f,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]}),e(I,{children:m}),e(ne,{open:t,onCloseDialog:x,children:e(bt,{open:t,onAddTask:b,onCloseDialog:x})}),r(se,{open:o,onOk:S,onCancel:A,children:[e(p,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u0443\u044E \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0443?"}),e(p,{align:"center",sx:{fontWeight:"bold"},children:u==null?void 0:u.name})]})]})};var kt=D(St);const Dt=({work:s,onSelect:t,onRemove:n})=>r(O,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[r(h,{sx:{display:"flex",bgcolor:"#ffffff",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",cursor:"pointer",flexWrap:"wrap","&:hover":{bgcolor:"#f1f1f1",color:"text.secondary"}},children:[e(p,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"20%"},padding:1},children:s.status.name}),e(p,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:s.item.name}),s.startTime&&e(p,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"20%"},padding:1},children:ee(new Date(s.startTime),"dd-MM-yyyy - HH:mm")})]}),e(h,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:e(g,{variant:"outlined",size:"small",onClick:()=>n(s),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})})]});var At=D(Dt);const Et=()=>{var x,f;j();const[s,t]=i.exports.useState(!1),[n,o]=i.exports.useState(null);i.exports.useEffect(()=>$.fetch(),[]);const a=v=>{o(v),t(!0)},u=()=>{n&&$.remove(n).then(()=>{o(null)}),t(!1)},l=()=>{o(null),t(!1)},c=i.exports.useMemo(()=>$.workList.map(v=>e(At,{work:v,onRemove:a},v.id)),[$.workList]);return r(h,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[e(h,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:e(p,{variant:"h5",children:"\u0421\u043F\u0438\u0441\u043E\u043A \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u044B\u0445 \u0437\u0430\u0434\u0430\u0447"})}),e(I,{children:c}),r(se,{open:s,onOk:u,onCancel:l,children:[e(p,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u0443\u044E \u0437\u0430\u0434\u0430\u0447\u0443?"}),r(p,{align:"center",sx:{fontWeight:"bold"},children:[(x=n==null?void 0:n.status)==null?void 0:x.name," ",(f=n==null?void 0:n.item)==null?void 0:f.name]})]})]})};var Wt=D(Et);const Rt=({action:s,onRemove:t,onEdit:n})=>r(O,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[r(h,{sx:{display:"flex",bgcolor:"#ffffff",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",flexWrap:"wrap",cursor:"pointer","&:hover":{bgcolor:"#f1f1f1",color:"text.secondary"}},onClick:()=>n(s),children:[e(p,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:s.type.name}),r(p,{variant:"p",component:"span",sx:{padding:1},children:[s.type.id===1&&r(p,{children:["\u0430\u0437\u0438\u043C\u0443\u0442 ",e("span",{children:s.value1})," \u0433\u0440\u0430\u0434\u0443\u0441\u043E\u0432"]}),s.type.id===2&&r(p,{children:["\u043D\u0430\u043A\u043B\u043E\u043D ",e("span",{children:s.value1})," \u0433\u0440\u0430\u0434\u0443\u0441\u043E\u0432"]}),s.type.id===3&&r(p,{children:["\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435 ",e("span",{children:s.value1})," \u0441\u0435\u043A"]}),s.type.id===4&&r(p,{children:["\u0440\u0430\u0437\u0440\u044F\u0434 \u043A\u043E\u043B-\u0432\u043E ",e("span",{children:s.value1})," \u0432\u0440\u0435\u043C\u044F\xA0",e("span",{children:s.value2})," \u0441\u0435\u043A \u0438\u043D\u0442\u0435\u0440\u0432\u0430\u043B\xA0",e("span",{children:s.value3})," \u0441\u0435\u043A"]})]})]}),e(h,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:e(g,{variant:"outlined",size:"small",onClick:()=>t(s),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})})]});var Bt=D(Rt);const $t=({action:s,onSubmit:t,onCloseDialog:n})=>{const o=i.exports.useMemo(()=>({id:C.actionTypes[0].id,name:C.actionTypes[0].name}),[]),a=i.exports.useMemo(()=>({id:null,type:o,value1:0,value2:0,value3:0}),[]),[u,l]=i.exports.useState(s||a),[c,x]=i.exports.useState(()=>C.actionTypes.find(m=>m.id===u.type.id)),f=m=>{l(()=>k(T({},u),{value1:+m.target.value}))},v=m=>{l(()=>k(T({},u),{value2:+m.target.value}))},S=m=>{l(()=>k(T({},u),{value3:+m.target.value}))},A=m=>{const d=m.target.value;x(d),l(k(T({},u),{type:{id:d.id,name:d.name},value1:1,value2:0,value3:0}))},b=i.exports.useMemo(()=>C.actionTypes.map(m=>e(ce,{value:m,children:m.name},m.id)),[]);return r(E,{children:[e(G,{children:e(p,{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"})}),e(K,{children:r(h,{sx:{display:"flex",flexDirection:"column"},children:[e(z,{fullWidth:!0,sx:q.gutters,children:e(de,{autoFocus:!0,value:c,onChange:A,children:b})}),e(z,{fullWidth:!0,children:e(F,{label:c.value1.label,value:u.value1,onChange:f,type:"number",inputProps:{max:c.value1.max,min:c.value1.min,step:c.value1.step},sx:q.gutters,InputLabelProps:{shrink:!0}})}),c.id===4&&e(F,{label:c.value2.label,value:u.value2,onChange:v,type:"number",inputProps:{max:c.value2.max,min:c.value2.min,step:c.value2.step},sx:q.gutters,InputLabelProps:{shrink:!0}}),c.id===4&&e(F,{label:c.value3.label,value:u.value3,onChange:S,type:"number",inputProps:{max:c.value3.max,min:c.value3.min,step:c.value3.step},sx:q.gutters,InputLabelProps:{shrink:!0}})]})}),r(V,{children:[e(g,{onClick:n,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e(g,{onClick:()=>t(u),children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},q={gutters:{my:1}};var Lt=D($t);const Ot=()=>{var ue;const s=_e(),[t,n]=i.exports.useState(!1),[o,a]=i.exports.useState(null),[u,l]=i.exports.useState({}),[c,x]=i.exports.useState(!1),[f,v]=i.exports.useState(null);i.exports.useEffect(()=>{W.fetchById(s.id).then(y=>l(y))},[]);const S=i.exports.useCallback(()=>{n(!1)},[]),A=i.exports.useCallback(y=>{a(y),n(!0)},[]),b=i.exports.useCallback(()=>{a(null),n(!0)},[]),m=y=>{v(y),x(!0)},d=()=>{if(f){const y=u.actions.filter(H=>f.id!==H.id),U=k(T({},u),{actions:y});l(U),W.update(U).then(()=>{v(null)})}x(!1)},R=()=>{v(null),x(!1)},N=y=>{y.id||(y.id=Pe());const U=u.actions.findIndex(we=>we.id===y.id),H=[...u.actions];U===-1?H.push(y):H[U]=T({},y);const ae=k(T({},u),{actions:[...H]});l(ae),n(!1),W.update(ae)},be=Array.isArray(u.actions)?u.actions.map(y=>e(Bt,{action:y,onRemove:m,onEdit:A},y.id)):null;return r(h,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[r(h,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:[e(p,{variant:"h5",children:"\u0421\u043E\u0441\u0442\u0430\u0432 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B"}),e(g,{variant:"contained",color:"primary",onClick:b,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]}),e(I,{children:be}),e(ne,{open:t,onCloseDialog:S,children:e(Lt,{open:t,onCloseDialog:S,onSubmit:N,action:o})}),r(se,{open:c,onOk:d,onCancel:R,children:[e(p,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?"}),e(p,{align:"center",sx:{fontWeight:"bold"},children:(ue=f==null?void 0:f.type)==null?void 0:ue.name})]})]})};var It=D(Ot);const L="/pulsar/",Ft=({routes:s})=>e(E,{children:e(Ne,{children:e(Ye,{children:e(je,{children:r(B,{path:`${L}`,element:e(Xe,{}),children:[e(B,{path:`${L}`,element:e(ht,{})}),r(B,{path:`${L}tasks`,element:e(mt,{}),children:[e(B,{path:`${L}tasks`,element:e(kt,{})}),e(B,{path:`${L}tasks:id`,element:e(It,{})})]}),e(B,{path:`${L}works`,element:e(xt,{}),children:e(B,{path:`${L}works`,element:e(Wt,{})})})]})})})})});Ge.render(e(Ke.StrictMode,{children:e(Ft,{})}),document.getElementById("root"));
